# JIT存储过程

JIT存储过程（JIT SP）由openGauss MOT引擎（从5.0版本开始）支持，其目标是提供更高的性能和更低的延迟。

JIT SP是指通过LLVM运行时代码生成和执行库来生成代码、编译和执行存储过程。JIT SP仅对访问MOT表的存储过程可用，对用户完全透明。跨引擎事务的存储过程将由标准的PL/pgSQL执行。加速级别取决于存储过程逻辑复杂度。例如，一个真实的客户应用程序为不同的存储过程实现了20%、44%、300%和500%的加速，将存储过程延迟减少到数十毫秒。

在调用存储过程的查询PREPARE阶段或第一次执行存储过程时，JIT模块尝试将存储过程SQL转换为基于C的函数，并在运行时（使用LLVM）编译。如果成功，连续存储过程调用，MOT将执行编译函数，从而获得性能增益。如果无法生成编译函数，存储过程将由标准的PL/pgSQL执行。这两种情况对用户完全透明。

您可以参考[MOT JIT诊断](MOT-JIT诊断.md)了解有用的诊断信息。