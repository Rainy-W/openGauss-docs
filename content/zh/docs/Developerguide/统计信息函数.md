# 统计信息函数<a name="ZH-CN_TOPIC_0242370462"></a>

统计信息函数根据访问对象分为两种类型：针对某个数据库进行访问的函数，以数据库中每个表或索引的OID作为参数，标识需要报告的数据库；针对某个服务器进行访问的函数，以一个服务器进程号为参数，其范围从1到当前活跃服务器的数目。

-   pg\_stat\_get\_db\_numbackends\(oid\)

    描述：处理该数据库活跃的服务器进程数目。

    返回值类型：integer

-   pg\_stat\_get\_db\_xact\_commit\(oid\)

    描述：数据库中已提交事务的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_xact\_rollback\(oid\)

    描述：数据库中回滚事务的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_blocks\_fetched\(oid\)

    描述：数据库中磁盘块抓取请求的总数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_blocks\_hit\(oid\)

    描述：数据库在缓冲区中找到的磁盘块抓取请求的总数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_returned\(oid\)

    描述：为数据库返回的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_fetched\(oid\)

    描述：为数据库中获取的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_inserted\(oid\)

    描述：在数据库中插入Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_updated\(oid\)

    描述：在数据库中更新的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_deleted\(oid\)

    描述：数据库中删除Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_conflict\_lock\(oid\)

    描述：数据库中锁冲突的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_deadlocks\(oid\)

    描述：数据库中死锁的数量。

    返回值类型：bigint

-   pg\_stat\_get\_numscans\(oid\)

    描述：如果参数是一个表，则顺序扫描读取的行数目。如果参数是一个索引，则返回索引行的数目。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_returned\(oid\)

    描述：如果参数是一个表，则顺序扫描读取的行数目。如果参数是一个索引，则返回的索引行的数目。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_fetched\(oid\)

    描述：如果参数是一个表，则位图扫描抓取的行数目。如果参数是一个索引，则用简单索引扫描抓取的行数目。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_inserted\(oid\)

    描述：插入表中行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_updated\(oid\)

    描述：在表中已更新行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_deleted\(oid\)

    描述：从表中删除行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_changed\(oid\)

    描述：该表上一次analyze或autoanalyze之后插入、更新、删除行的总数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_hot\_updated\(oid\)

    描述：热更新的行数表。

    返回值类型：bigint

-   pg\_stat\_get\_live\_tuples\(oid\)

    描述：活行数表。

    返回值类型：bigint

-   pg\_stat\_get\_dead\_tuples\(oid\)

    描述：死行数表。

    返回值类型：bigint

-   pg\_stat\_get\_blocks\_fetched\(oid\)

    描述：表或者索引的磁盘块抓取请求的数量。

    返回值类型：bigint

-   pg\_stat\_get\_blocks\_hit\(oid\)

    描述：在缓冲区中找到的表或者索引的磁盘块请求数目。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_inserted\(oid\)

    描述：插入相应表分区中行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_updated\(oid\)

    描述：在相应表分区中已更新行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_deleted\(oid\)

    描述：从相应表分区中删除行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_changed\(oid\)

    描述：该表分区上一次analyze或autoanalyze之后插入、更新、删除行的总数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_live\_tuples\(oid\)

    描述：活行数表分区。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_dead\_tuples\(oid\)

    描述：死行数表分区。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_inserted\(oid\)

    描述：表相关的活跃子事务中插入的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_deleted\(oid\)

    描述：表相关的活跃子事务中删除的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_hot\_updated\(oid\)

    描述：表相关的活跃子事务中热更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_updated\(oid\)

    描述：表相关的活跃子事务中更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_inserted\(oid\)

    描述：表分区相关的活跃子事务中插入的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_deleted\(oid\)

    描述：表分区相关的活跃子事务中删除的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_hot\_updated\(oid\)

    描述：表分区相关的活跃子事务中热更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_updated\(oid\)

    描述：表分区相关的活跃子事务中更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_last\_vacuum\_time\(oid\)

    描述：用户在该表上最后一次手动启动清理或者autovacuum线程启动清理的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_last\_autovacuum\_time\(oid\)

    描述：autovacuum守护进程在该表上最后一次启动清理的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_vacuum\_count\(oid\)

    描述：用户在该表上手动启动清理的次数。

    返回值类型：bigint

-   pg\_stat\_get\_autovacuum\_count\(oid\)

    描述：autovacuum守护进程在该表上启动清理的次数。

    返回值类型：bigint

-   pg\_stat\_get\_last\_analyze\_time\(oid\)

    描述：用户在该表上最后一次手动启动分析或者autovacuum线程启动分析的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_last\_autoanalyze\_time\(oid\)

    描述：autovacuum守护进程在该表上最后一次启动分析的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_analyze\_count\(oid\)

    描述：用户在该表上手动启动分析的次数。

    返回值类型：bigint

-   pg\_stat\_get\_autoanalyze\_count\(oid\)

    描述：autovacuum守护进程在该表上启动分析的次数。

    返回值类型：bigint

-   pg\_total\_autovac\_tuples\(bool,bool\)

    描述：返回total autovac相关的tuple记录，如nodename,nspname,relname以及各类tuple的IUD信息，入参分别为：是否查询relation信息，是否查询local信息。

    返回值类型：setofrecord

-   pg\_autovac\_status\(oid\)

    描述：返回和autovac状态相关的参数信息，如nodename,nspname,relname,analyze,vacuum设置，analyze/vacuum阈值, analyze/vacuum tuple数等。

    返回值类型：setofrecord

-   pg\_autovac\_timeout\(oid\)

    描述：返回某个表做autovac连续超时的次数，表信息非法或node信息异常返回NULL。

    返回值类型：bigint

-   pg\_autovac\_dbnode\(oid\)

    描述：返回对某个表做autovac的dbnode名称，表信息非法或node信息异常返回NULL。

    返回值类型：text

-   pg\_stat\_get\_last\_data\_changed\_time\(oid\)

    描述：insert/update/delete, exchange/truncate/drop partition在该表上最后一次操作的时间，[PG\_STAT\_ALL\_TABLES](PG_STAT_ALL_TABLES.md)视图last\_data\_changed列的数据是通过该函数求值，在表数量很大的场景中，通过视图获取表数据最后修改时间的性能较差，建议直接使用该函数获取表数据的最后修改时间。

    返回值类型：timestamptz

-   pg\_stat\_set\_last\_data\_changed\_time\(oid\)

    描述：手动设置该表上最后一次insert/update/delete, exchange/truncate/drop partition操作的时间。

    返回值类型：void

-   pg\_backend\_pid\(\)

    描述：当前会话的服务器线程的线程ID。

    返回值类型：integer

-   pg\_stat\_get\_activity\(integer\)

    描述：返回一个关于带有特殊PID的后台进程的记录信息，当参数为NULL时，则返回每个活动的后台进程的记录。返回结果是[PG\_STAT\_ACTIVITY](PG_STAT_ACTIVITY.md)视图中的一个子集，不包含connection\_info列。

    返回值类型：setofrecord

-   pg\_stat\_get\_activity\_with\_conninfo\(integer\)

    描述：返回一个关于带有特殊PID的后台进程的记录信息，当参数为NULL时，则返回每个活动的后台进程的记录。返回结果是[PG\_STAT\_ACTIVITY](PG_STAT_ACTIVITY.md)视图中的一个子集。

    返回值类型：setofrecord

-   pg\_user\_iostat\(text\)

    描述：显示和当前用户执行作业正在运行时的IO负载管理相关信息。

    返回值类型：record

    函数返回字段说明如下：

    <a name="zh-cn_topic_0237121998_table842513640"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0237121998_row11426631846"><th class="cellrowborder" valign="top" width="14.6%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"><a name="zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"></a><a name="zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="8.9%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0237121998_p54991455747"><a name="zh-cn_topic_0237121998_p54991455747"></a><a name="zh-cn_topic_0237121998_p54991455747"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="76.5%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0237121998_p1468935815411"><a name="zh-cn_topic_0237121998_p1468935815411"></a><a name="zh-cn_topic_0237121998_p1468935815411"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0237121998_row74262318415"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p54261938418"><a name="zh-cn_topic_0237121998_p54261938418"></a><a name="zh-cn_topic_0237121998_p54261938418"></a>userid</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p1742611310413"><a name="zh-cn_topic_0237121998_p1742611310413"></a><a name="zh-cn_topic_0237121998_p1742611310413"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p114261231143"><a name="zh-cn_topic_0237121998_p114261231143"></a><a name="zh-cn_topic_0237121998_p114261231143"></a>用户id。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row7426039410"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p10426203540"><a name="zh-cn_topic_0237121998_p10426203540"></a><a name="zh-cn_topic_0237121998_p10426203540"></a>min_curr_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p242618317411"><a name="zh-cn_topic_0237121998_p242618317411"></a><a name="zh-cn_topic_0237121998_p242618317411"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p9426131249"><a name="zh-cn_topic_0237121998_p9426131249"></a><a name="zh-cn_topic_0237121998_p9426131249"></a>当前该用户io在数据库节点中的最小值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row2426123642"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p11426173847"><a name="zh-cn_topic_0237121998_p11426173847"></a><a name="zh-cn_topic_0237121998_p11426173847"></a>max_curr_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p20426831246"><a name="zh-cn_topic_0237121998_p20426831246"></a><a name="zh-cn_topic_0237121998_p20426831246"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1742603448"><a name="zh-cn_topic_0237121998_p1742603448"></a><a name="zh-cn_topic_0237121998_p1742603448"></a>当前该用户io在数据库节点中的最大值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row542653546"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p19426637419"><a name="zh-cn_topic_0237121998_p19426637419"></a><a name="zh-cn_topic_0237121998_p19426637419"></a>min_peak_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p44261318416"><a name="zh-cn_topic_0237121998_p44261318416"></a><a name="zh-cn_topic_0237121998_p44261318416"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p154268319410"><a name="zh-cn_topic_0237121998_p154268319410"></a><a name="zh-cn_topic_0237121998_p154268319410"></a>该用户io峰值中，数据库节点的最小值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row3426933419"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p1942620314416"><a name="zh-cn_topic_0237121998_p1942620314416"></a><a name="zh-cn_topic_0237121998_p1942620314416"></a>max_peak_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p34263312418"><a name="zh-cn_topic_0237121998_p34263312418"></a><a name="zh-cn_topic_0237121998_p34263312418"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p242615310414"><a name="zh-cn_topic_0237121998_p242615310414"></a><a name="zh-cn_topic_0237121998_p242615310414"></a>该用户io峰值中，数据库节点的最大值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row4426834414"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p14427731047"><a name="zh-cn_topic_0237121998_p14427731047"></a><a name="zh-cn_topic_0237121998_p14427731047"></a>io_limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p104271831643"><a name="zh-cn_topic_0237121998_p104271831643"></a><a name="zh-cn_topic_0237121998_p104271831643"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p3427331643"><a name="zh-cn_topic_0237121998_p3427331643"></a><a name="zh-cn_topic_0237121998_p3427331643"></a>用户指定的资源池所设置的io_limits。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row942753841"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p84272316419"><a name="zh-cn_topic_0237121998_p84272316419"></a><a name="zh-cn_topic_0237121998_p84272316419"></a>io_priority</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p74271935417"><a name="zh-cn_topic_0237121998_p74271935417"></a><a name="zh-cn_topic_0237121998_p74271935417"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1542716312414"><a name="zh-cn_topic_0237121998_p1542716312414"></a><a name="zh-cn_topic_0237121998_p1542716312414"></a>该用户所设io_priority。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_stat\_get\_function\_calls\(oid\)

    描述：函数已被调用次数。

    返回值类型：bigint

-   pg\_stat\_get\_function\_time\(oid\)

    描述：该函数花费的总挂钟时间，单位为微秒。包括在这个函数调用所花费的时间。

    返回值类型：bigint

-   pg\_stat\_get\_function\_self\_time\(oid\)

    描述：只有在此功能所花费的时间。在所谓的功能所花费的时间被排除在外。

    返回值类型：bigint

-   pg\_stat\_get\_backend\_idset\(\)

    描述：设置当前活动的服务器进程数（从1到活动服务器进程的数量）。

    返回值类型：setofinteger

-   pg\_stat\_get\_backend\_pid\(integer\)

    描述：给定的服务器线程的线程ID。

    返回值类型：bigint

-   pg\_stat\_get\_backend\_dbid\(integer\)

    描述：给定服务器进程的数据库ID。

    返回值类型：oid

-   pg\_stat\_get\_backend\_userid\(integer\)

    描述：给定服务器进程的用户ID。

    返回值类型：oid

-   pg\_stat\_get\_backend\_activity\(integer\)

    描述：给定服务器进程的当前活动查询，仅在调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：text

-   pg\_stat\_get\_backend\_waiting\(integer\)

    描述：如果给定服务器进程在等待某个锁，并且调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才返回真。

    返回值类型：Boolean

-   pg\_stat\_get\_backend\_activity\_start\(integer\)

    描述：给定服务器进程当前正在执行的查询的起始时间，仅在调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_xact\_start\(integer\)

    描述：给定服务器进程当前正在执行的事务的开始时间，但只有当前用户是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_start\(integer\)

    描述：给定服务器进程启动的时间，如果当前用户不是系统管理员或被查询的后端的用户，则返回NULL。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_client\_addr\(integer\)

    描述：连接到给定客户端后端的IP地址。如果是通过Unix域套接字连接的则返回NULL；如果当前用户不是系统管理员或被查询会话的用户，也返回NULL。

    返回值类型：inet

-   pg\_stat\_get\_backend\_client\_port\(integer\)

    描述：连接到给定客户端后端的TCP端口。如果是通过Unix域套接字连接的则返回-1；如果当前用户不是系统管理员或被查询会话的用户，也返回NULL。

    返回值类型：integer

-   pg\_stat\_get\_bgwriter\_timed\_checkpoints\(\)

    描述：后台写进程开启定时检查点的时间（因为checkpoint\_timeout时间已经过期了）。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_requested\_checkpoints\(\)

    描述：后台写进程开启基于后端请求的检查点的时间，因为已经超过了checkpoint\_segments或因为已经执行了CHECKPOINT。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_buf\_written\_checkpoints\(\)

    描述：在检查点期间后台写进程写入的缓冲区数目。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_buf\_written\_clean\(\)

    描述：为日常清理脏块，后台写进程写入的缓冲区数目。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_maxwritten\_clean\(\)

    描述：后台写进程停止清理扫描的时间，因为已经写入了更多的缓冲区（相比bgwriter\_lru\_maxpages参数声明的缓冲区数）。

    返回值类型：bigint

-   pg\_stat\_get\_buf\_written\_backend\(\)

    描述：后端进程写入的缓冲区数，因为它们需要分配一个新的缓冲区。

    返回值类型：bigint

-   pg\_stat\_get\_buf\_alloc\(\)

    描述：分配的总缓冲区数。

    返回值类型：bigint

-   pg\_stat\_clear\_snapshot\(\)

    描述：清理当前的统计快照。

    返回值类型：void

-   pg\_stat\_reset\(\)

    描述：为当前数据库重置统计计数器为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_shared\(text\)

    描述：重置shared cluster每个节点当前数据统计计数器为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_single\_table\_counters\(oid\)

    描述：为当前数据库中的一个表或索引重置统计为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_single\_function\_counters\(oid\)

    描述：为当前数据库中的一个函数重置统计为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_session\_cu\(int, int, int\)

    描述：获取当前节点所运行session的CU命中统计信息。

    返回值类型：record

-   gs\_get\_stat\_session\_cu\(text, int, int, int\)

    描述：获取openGauss所有运行session的CU命中统计信息。

    返回值类型：record

-   gs\_get\_stat\_db\_cu\(text, text, int, int, int\)

    描述：获取openGauss一个数据库的CU命中统计信息。

    返回值类型：record

-   pg\_stat\_get\_cu\_mem\_hit\(oid\)

    描述：获取当前节点当前数据库中一个列存表的CU内存命中次数。

    返回值类型：bigint

-   pg\_stat\_get\_cu\_hdd\_sync\(oid\)

    描述：获取当前节点当前数据库中一个列存表从磁盘同步读取CU次数。

    返回值类型：bigint

-   pg\_stat\_get\_cu\_hdd\_asyn\(oid\)

    描述：获取当前节点当前数据库中一个列存表从磁盘异步读取CU次数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_cu\_mem\_hit\(oid\)

    描述：获取当前节点一个数据库CU内存命中次数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_cu\_hdd\_sync\(oid\)

    描述：获取当前节点一个数据库从磁盘同步读取CU次数。

    返回值类型：bigint

-   pgxc\_get\_wlm\_current\_instance\_info\(text, int default null\)

    描述：在数据库主节点上查询当前的资源使用情况，读取内存中还未存到 5.19.2.3 GS\_WLM\_INSTANCE\_HISTORY系统表的数据。入参分别为节点名称 \(可以输入ALL、C、D、实例名称\)、每个节点返回的大数量。返回值为 GS\_WLM\_INSTANCE\_HISTORY。

    返回值类型：setofrecord

-   pgxc\_get\_wlm\_history\_instance\_info\(text, TIMESTAMP, TIMESTAMP, int default null\)

    描述：在数据库主节点上查询历史资源使用情况，读取 GS\_WLM\_INSTANCE\_HISTORY系统表的数据。入参分别为节点名称\(可以输入 ALL、C、D、实例名称\)、起始区间时间、结束区间时间和每个实例返回的大数 量。返回值为GS\_WLM\_INSTANCE\_HISTORY。

    返回值类型：setofrecord


-   pg\_stat\_get\_db\_cu\_hdd\_asyn\(oid\)

    描述：获取当前节点一个数据库从磁盘异步读取CU次数。

    返回值类型：bigint


-   pg\_stat\_bad\_block\(text, int, int, int, int, int, timestamp with time zone, timestamp with time zone\)

    描述：获取当前节点自启动后，读取出现Page/CU的损坏信息。

    例: select \* from pg\_stat\_bad\_block\(\);

    返回值类型：record

-   pg\_stat\_bad\_block\_clear\(\)

    描述：清理节点记录的读取出现的Page/CU损坏信息（需要系统管理员权限）。

    返回值类型：void

-   gs\_respool\_exception\_info\(pool text\)

    描述：查看某个资源池关联的查询规则信息。

    返回值类型：record

-   gs\_control\_group\_info\(pool text\)

    描述：查看资源池关联的控制组信息

    返回值类型：record

    返回信息如下：

    <a name="zh-cn_topic_0237121998_table1560939125613"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0237121998_row260919925618"><th class="cellrowborder" valign="top" width="26.37736226377362%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0237121998_p17610179175619"><a name="zh-cn_topic_0237121998_p17610179175619"></a><a name="zh-cn_topic_0237121998_p17610179175619"></a>属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.44715528447155%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0237121998_p361013935612"><a name="zh-cn_topic_0237121998_p361013935612"></a><a name="zh-cn_topic_0237121998_p361013935612"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.175482451754824%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0237121998_p461011975616"><a name="zh-cn_topic_0237121998_p461011975616"></a><a name="zh-cn_topic_0237121998_p461011975616"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0237121998_row116109912569"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p461079145611"><a name="zh-cn_topic_0237121998_p461079145611"></a><a name="zh-cn_topic_0237121998_p461079145611"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p161020985611"><a name="zh-cn_topic_0237121998_p161020985611"></a><a name="zh-cn_topic_0237121998_p161020985611"></a>class_a:workload_a1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p196108914566"><a name="zh-cn_topic_0237121998_p196108914566"></a><a name="zh-cn_topic_0237121998_p196108914566"></a>class和workload名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row06106985619"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p7610149125612"><a name="zh-cn_topic_0237121998_p7610149125612"></a><a name="zh-cn_topic_0237121998_p7610149125612"></a>class</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p2610139185611"><a name="zh-cn_topic_0237121998_p2610139185611"></a><a name="zh-cn_topic_0237121998_p2610139185611"></a>class_a</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p4610196562"><a name="zh-cn_topic_0237121998_p4610196562"></a><a name="zh-cn_topic_0237121998_p4610196562"></a>Class控制组名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1399384455713"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p209946441573"><a name="zh-cn_topic_0237121998_p209946441573"></a><a name="zh-cn_topic_0237121998_p209946441573"></a>workload</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p159941447578"><a name="zh-cn_topic_0237121998_p159941447578"></a><a name="zh-cn_topic_0237121998_p159941447578"></a>workload_a1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p20994544125713"><a name="zh-cn_topic_0237121998_p20994544125713"></a><a name="zh-cn_topic_0237121998_p20994544125713"></a>Workload控制组名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row8632178185817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p17633882582"><a name="zh-cn_topic_0237121998_p17633882582"></a><a name="zh-cn_topic_0237121998_p17633882582"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p863315865812"><a name="zh-cn_topic_0237121998_p863315865812"></a><a name="zh-cn_topic_0237121998_p863315865812"></a>DEFWD</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p46338815818"><a name="zh-cn_topic_0237121998_p46338815818"></a><a name="zh-cn_topic_0237121998_p46338815818"></a>控制组类型（Top、CLASS、BAKWD、DEFWD、TSWD）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row19207812135811"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p2208812105815"><a name="zh-cn_topic_0237121998_p2208812105815"></a><a name="zh-cn_topic_0237121998_p2208812105815"></a>gid</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p11208161265812"><a name="zh-cn_topic_0237121998_p11208161265812"></a><a name="zh-cn_topic_0237121998_p11208161265812"></a>87</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1120816121589"><a name="zh-cn_topic_0237121998_p1120816121589"></a><a name="zh-cn_topic_0237121998_p1120816121589"></a>控制组id</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row01967412582"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p15196164105812"><a name="zh-cn_topic_0237121998_p15196164105812"></a><a name="zh-cn_topic_0237121998_p15196164105812"></a>shares</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p619610455819"><a name="zh-cn_topic_0237121998_p619610455819"></a><a name="zh-cn_topic_0237121998_p619610455819"></a>30</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p01966445815"><a name="zh-cn_topic_0237121998_p01966445815"></a><a name="zh-cn_topic_0237121998_p01966445815"></a>占父节点CPU资源的百分比</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1931985165714"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p183203516578"><a name="zh-cn_topic_0237121998_p183203516578"></a><a name="zh-cn_topic_0237121998_p183203516578"></a>limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p7320125111571"><a name="zh-cn_topic_0237121998_p7320125111571"></a><a name="zh-cn_topic_0237121998_p7320125111571"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p43209514578"><a name="zh-cn_topic_0237121998_p43209514578"></a><a name="zh-cn_topic_0237121998_p43209514578"></a>占父节点CPU核数的百分比</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row148871119165810"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p6887201917580"><a name="zh-cn_topic_0237121998_p6887201917580"></a><a name="zh-cn_topic_0237121998_p6887201917580"></a>rate</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p188871519125814"><a name="zh-cn_topic_0237121998_p188871519125814"></a><a name="zh-cn_topic_0237121998_p188871519125814"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1988821914586"><a name="zh-cn_topic_0237121998_p1988821914586"></a><a name="zh-cn_topic_0237121998_p1988821914586"></a>Timeshare中的分配比例</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1970717163583"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p47079162588"><a name="zh-cn_topic_0237121998_p47079162588"></a><a name="zh-cn_topic_0237121998_p47079162588"></a>cpucores</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p37074160581"><a name="zh-cn_topic_0237121998_p37074160581"></a><a name="zh-cn_topic_0237121998_p37074160581"></a>0-3</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p17078161586"><a name="zh-cn_topic_0237121998_p17078161586"></a><a name="zh-cn_topic_0237121998_p17078161586"></a>CPU核心数</p>
    </td>
    </tr>
    </tbody>
    </table>

-   get\_instr\_workload\_info\(integer\)

    描述：获取数据库主节点上事务量信息，事务时间信息。

    返回值类型：record

    <a name="zh-cn_topic_0237121998_table11596620133817"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0237121998_row2596020173814"><th class="cellrowborder" valign="top" width="26.37736226377362%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0237121998_p859672013382"><a name="zh-cn_topic_0237121998_p859672013382"></a><a name="zh-cn_topic_0237121998_p859672013382"></a>属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.357164283571645%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0237121998_p65961920183815"><a name="zh-cn_topic_0237121998_p65961920183815"></a><a name="zh-cn_topic_0237121998_p65961920183815"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.26547345265474%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0237121998_p0597320123812"><a name="zh-cn_topic_0237121998_p0597320123812"></a><a name="zh-cn_topic_0237121998_p0597320123812"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0237121998_row9597152043813"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p85971620193814"><a name="zh-cn_topic_0237121998_p85971620193814"></a><a name="zh-cn_topic_0237121998_p85971620193814"></a>resourcepool_oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p1159742018382"><a name="zh-cn_topic_0237121998_p1159742018382"></a><a name="zh-cn_topic_0237121998_p1159742018382"></a>10</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p6251644184720"><a name="zh-cn_topic_0237121998_p6251644184720"></a><a name="zh-cn_topic_0237121998_p6251644184720"></a>资源池的oid(逻辑同负载等价)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row359712053818"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p359718205387"><a name="zh-cn_topic_0237121998_p359718205387"></a><a name="zh-cn_topic_0237121998_p359718205387"></a>commit_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p16597420133810"><a name="zh-cn_topic_0237121998_p16597420133810"></a><a name="zh-cn_topic_0237121998_p16597420133810"></a>4</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p182501441478"><a name="zh-cn_topic_0237121998_p182501441478"></a><a name="zh-cn_topic_0237121998_p182501441478"></a>前端事务commit数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1259720206381"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p1559722013812"><a name="zh-cn_topic_0237121998_p1559722013812"></a><a name="zh-cn_topic_0237121998_p1559722013812"></a>rollback_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p155971720163818"><a name="zh-cn_topic_0237121998_p155971720163818"></a><a name="zh-cn_topic_0237121998_p155971720163818"></a>1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1924994424720"><a name="zh-cn_topic_0237121998_p1924994424720"></a><a name="zh-cn_topic_0237121998_p1924994424720"></a>前端事务rollback数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row12597820153817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p17597520103816"><a name="zh-cn_topic_0237121998_p17597520103816"></a><a name="zh-cn_topic_0237121998_p17597520103816"></a>resp_min</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p4597420193815"><a name="zh-cn_topic_0237121998_p4597420193815"></a><a name="zh-cn_topic_0237121998_p4597420193815"></a>949</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p824864494710"><a name="zh-cn_topic_0237121998_p824864494710"></a><a name="zh-cn_topic_0237121998_p824864494710"></a>前端事务最小响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row95971020153817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p1259719206384"><a name="zh-cn_topic_0237121998_p1259719206384"></a><a name="zh-cn_topic_0237121998_p1259719206384"></a>resp_max</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p205984208383"><a name="zh-cn_topic_0237121998_p205984208383"></a><a name="zh-cn_topic_0237121998_p205984208383"></a>201891</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p224704444712"><a name="zh-cn_topic_0237121998_p224704444712"></a><a name="zh-cn_topic_0237121998_p224704444712"></a>前端事务最大响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row95981320153810"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p10598192063818"><a name="zh-cn_topic_0237121998_p10598192063818"></a><a name="zh-cn_topic_0237121998_p10598192063818"></a>resp_avg</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p1059832019385"><a name="zh-cn_topic_0237121998_p1059832019385"></a><a name="zh-cn_topic_0237121998_p1059832019385"></a>43564</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p7246174414712"><a name="zh-cn_topic_0237121998_p7246174414712"></a><a name="zh-cn_topic_0237121998_p7246174414712"></a>前端事务平均响应时间(单位：微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1059822014389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p18598420103816"><a name="zh-cn_topic_0237121998_p18598420103816"></a><a name="zh-cn_topic_0237121998_p18598420103816"></a>resp_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p65985207388"><a name="zh-cn_topic_0237121998_p65985207388"></a><a name="zh-cn_topic_0237121998_p65985207388"></a>217822</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1224584413477"><a name="zh-cn_topic_0237121998_p1224584413477"></a><a name="zh-cn_topic_0237121998_p1224584413477"></a>前端事务总响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row159852013380"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p135981420193810"><a name="zh-cn_topic_0237121998_p135981420193810"></a><a name="zh-cn_topic_0237121998_p135981420193810"></a>bg_commit_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p15984206380"><a name="zh-cn_topic_0237121998_p15984206380"></a><a name="zh-cn_topic_0237121998_p15984206380"></a>910</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p075814565503"><a name="zh-cn_topic_0237121998_p075814565503"></a><a name="zh-cn_topic_0237121998_p075814565503"></a>后端事务commit数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row19598192013815"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p559812053810"><a name="zh-cn_topic_0237121998_p559812053810"></a><a name="zh-cn_topic_0237121998_p559812053810"></a>bg_rollback_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p16598152020386"><a name="zh-cn_topic_0237121998_p16598152020386"></a><a name="zh-cn_topic_0237121998_p16598152020386"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p9769159175019"><a name="zh-cn_topic_0237121998_p9769159175019"></a><a name="zh-cn_topic_0237121998_p9769159175019"></a>后端事务rollback数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row337414493389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p133752049173811"><a name="zh-cn_topic_0237121998_p133752049173811"></a><a name="zh-cn_topic_0237121998_p133752049173811"></a>bg_resp_min</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p183757493389"><a name="zh-cn_topic_0237121998_p183757493389"></a><a name="zh-cn_topic_0237121998_p183757493389"></a>97</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1192231165119"><a name="zh-cn_topic_0237121998_p1192231165119"></a><a name="zh-cn_topic_0237121998_p1192231165119"></a>后端事务最小响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row45313548389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p65355419381"><a name="zh-cn_topic_0237121998_p65355419381"></a><a name="zh-cn_topic_0237121998_p65355419381"></a>bg_resp_max</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p175345413382"><a name="zh-cn_topic_0237121998_p175345413382"></a><a name="zh-cn_topic_0237121998_p175345413382"></a>678080687</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p76633614519"><a name="zh-cn_topic_0237121998_p76633614519"></a><a name="zh-cn_topic_0237121998_p76633614519"></a>后端事务最大响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row225795743818"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p2257857123819"><a name="zh-cn_topic_0237121998_p2257857123819"></a><a name="zh-cn_topic_0237121998_p2257857123819"></a>bg_resp_avg</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p3257257143815"><a name="zh-cn_topic_0237121998_p3257257143815"></a><a name="zh-cn_topic_0237121998_p3257257143815"></a>327847884</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p13572131118512"><a name="zh-cn_topic_0237121998_p13572131118512"></a><a name="zh-cn_topic_0237121998_p13572131118512"></a>后端事务平均响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row35321851114514"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p7533951154513"><a name="zh-cn_topic_0237121998_p7533951154513"></a><a name="zh-cn_topic_0237121998_p7533951154513"></a>bg_resp_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p7533351194520"><a name="zh-cn_topic_0237121998_p7533351194520"></a><a name="zh-cn_topic_0237121998_p7533351194520"></a>298341575300</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p17865151410518"><a name="zh-cn_topic_0237121998_p17865151410518"></a><a name="zh-cn_topic_0237121998_p17865151410518"></a>后端事务总响应时间（单位：微秒）</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pv\_instance\_time\(\)

    描述：获取当前节点上各个关键阶段的时间消耗。

    返回值类型：record

    <a name="zh-cn_topic_0237121998_table1149417513587"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0237121998_row17494175195812"><th class="cellrowborder" valign="top" width="26.37736226377363%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0237121998_p5494751165810"><a name="zh-cn_topic_0237121998_p5494751165810"></a><a name="zh-cn_topic_0237121998_p5494751165810"></a>Stat_name属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.317468253174685%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0237121998_p1049411514586"><a name="zh-cn_topic_0237121998_p1049411514586"></a><a name="zh-cn_topic_0237121998_p1049411514586"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="48.3051694830517%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0237121998_p1349455114584"><a name="zh-cn_topic_0237121998_p1349455114584"></a><a name="zh-cn_topic_0237121998_p1349455114584"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0237121998_row8494451135816"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p549525155814"><a name="zh-cn_topic_0237121998_p549525155814"></a><a name="zh-cn_topic_0237121998_p549525155814"></a>DB_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p1733818301818"><a name="zh-cn_topic_0237121998_p1733818301818"></a><a name="zh-cn_topic_0237121998_p1733818301818"></a>1062385</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p2337143016114"><a name="zh-cn_topic_0237121998_p2337143016114"></a><a name="zh-cn_topic_0237121998_p2337143016114"></a>所有线程端到端的墙上时间（WALL TIME）消耗总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row749595118581"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p1495105135816"><a name="zh-cn_topic_0237121998_p1495105135816"></a><a name="zh-cn_topic_0237121998_p1495105135816"></a>CPU_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p203361230316"><a name="zh-cn_topic_0237121998_p203361230316"></a><a name="zh-cn_topic_0237121998_p203361230316"></a>311777</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1833583012115"><a name="zh-cn_topic_0237121998_p1833583012115"></a><a name="zh-cn_topic_0237121998_p1833583012115"></a>所有线程CPU时间消耗总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row16495951175812"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p1495155195818"><a name="zh-cn_topic_0237121998_p1495155195818"></a><a name="zh-cn_topic_0237121998_p1495155195818"></a>EXECUTION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p10334130312"><a name="zh-cn_topic_0237121998_p10334130312"></a><a name="zh-cn_topic_0237121998_p10334130312"></a>380037</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p633313302012"><a name="zh-cn_topic_0237121998_p633313302012"></a><a name="zh-cn_topic_0237121998_p633313302012"></a>消耗在执行器上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row74951351185818"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p19495185135816"><a name="zh-cn_topic_0237121998_p19495185135816"></a><a name="zh-cn_topic_0237121998_p19495185135816"></a>PARSE_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p733263016111"><a name="zh-cn_topic_0237121998_p733263016111"></a><a name="zh-cn_topic_0237121998_p733263016111"></a>6033</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p33313301713"><a name="zh-cn_topic_0237121998_p33313301713"></a><a name="zh-cn_topic_0237121998_p33313301713"></a>消耗在SQL解析上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row549555145818"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p164951051115813"><a name="zh-cn_topic_0237121998_p164951051115813"></a><a name="zh-cn_topic_0237121998_p164951051115813"></a>PLAN_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p7330123012117"><a name="zh-cn_topic_0237121998_p7330123012117"></a><a name="zh-cn_topic_0237121998_p7330123012117"></a>173356</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p03291130113"><a name="zh-cn_topic_0237121998_p03291130113"></a><a name="zh-cn_topic_0237121998_p03291130113"></a>消耗在执行计划生成上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row049565195819"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p84962517584"><a name="zh-cn_topic_0237121998_p84962517584"></a><a name="zh-cn_topic_0237121998_p84962517584"></a>REWRITE_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p032811304119"><a name="zh-cn_topic_0237121998_p032811304119"></a><a name="zh-cn_topic_0237121998_p032811304119"></a>2274</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p173279301214"><a name="zh-cn_topic_0237121998_p173279301214"></a><a name="zh-cn_topic_0237121998_p173279301214"></a>消耗在查询重写上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row1249618515587"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p16496175175812"><a name="zh-cn_topic_0237121998_p16496175175812"></a><a name="zh-cn_topic_0237121998_p16496175175812"></a>PL_EXECUTION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p2032653013119"><a name="zh-cn_topic_0237121998_p2032653013119"></a><a name="zh-cn_topic_0237121998_p2032653013119"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p1132512301213"><a name="zh-cn_topic_0237121998_p1132512301213"></a><a name="zh-cn_topic_0237121998_p1132512301213"></a>消耗在PL/SQL执行上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row7496751105819"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p94968513584"><a name="zh-cn_topic_0237121998_p94968513584"></a><a name="zh-cn_topic_0237121998_p94968513584"></a>PL_COMPILATION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p163241730816"><a name="zh-cn_topic_0237121998_p163241730816"></a><a name="zh-cn_topic_0237121998_p163241730816"></a>557</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p632310301312"><a name="zh-cn_topic_0237121998_p632310301312"></a><a name="zh-cn_topic_0237121998_p632310301312"></a>消耗在SQL编译上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row649618515581"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p154961151125814"><a name="zh-cn_topic_0237121998_p154961151125814"></a><a name="zh-cn_topic_0237121998_p154961151125814"></a>NET_SEND_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p1732213305119"><a name="zh-cn_topic_0237121998_p1732213305119"></a><a name="zh-cn_topic_0237121998_p1732213305119"></a>1673</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p143201430118"><a name="zh-cn_topic_0237121998_p143201430118"></a><a name="zh-cn_topic_0237121998_p143201430118"></a>消耗在网络发送上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0237121998_row949616511589"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0237121998_p17496115114582"><a name="zh-cn_topic_0237121998_p17496115114582"></a><a name="zh-cn_topic_0237121998_p17496115114582"></a>DATA_IO_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0237121998_p11319113017114"><a name="zh-cn_topic_0237121998_p11319113017114"></a><a name="zh-cn_topic_0237121998_p11319113017114"></a>426622</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0237121998_p113188301015"><a name="zh-cn_topic_0237121998_p113188301015"></a><a name="zh-cn_topic_0237121998_p113188301015"></a>消耗在数据读写上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    </tbody>
    </table>

-   DBE\_PERF.get\_global\_instance\_time\(\)

    描述：提供openGauss各个关键阶段的时间消耗，仅在数据库主节点上支持查询，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   get\_instr\_unique\_sql\(\)

    描述：获取当前节点的执行语句（归一化SQL）信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   reset\_unique\_sql\(text, text, bigint\)

    描述：重置系统执行语句（归一化SQL）信息，执行该函数必须具有sysadmin权限。第一个参数取值范围“global/local”，global表示清理所有节点上的信息，local表示只清理当前节点；第二参数取值范围“ALL/BY\_USERID/BY\_CNID”，ALL表示清理所有信息，BY\_USERID表示通过指定USERID清理只属于该用户的sql信息，BY\_CNID表示清理系统中涉及到该数据库主节点的sql信息；第三个参数表示具体的CNID和USERID，如果第二个参数为ALL，第三个参数不起作用，可以取任意值。

    返回值类型：boolean

-   get\_instr\_wait\_event\(NULL\)

    描述：获取当前节点event等待的统计信息。

    返回值类型：record

-   get\_instr\_user\_login\(\)

    描述：获取当前节点的用户登入登出次数信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   get\_instr\_rt\_percentile\(\)

    描述：获取CCN节点SQL 响应时间P80，P95分布信息，openGauss统一的信息在CCN节点上，其他节点查询为0。

    返回值类型：record

-   get\_node\_stat\_reset\_time\(\)

    描述：获取当前节点的统计信息重置（重启，主备倒换，数据库删除）时间。

    返回值类型：record

-   DBE\_PERF.get\_global\_os\_runtime\(\)

    描述：显示当前操作系统运行的状态信息，仅在数据库主节点上支持查询，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_os\_threads\(\)

    描述：提供openGauss中所有正常节点下的线程状态信息，仅在数据库主节点上支持查询，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_workload\_sql\_count\(\)

    描述：提供openGauss中不同负载SELECT，UPDATE，INSERT，DELETE，DDL， DML，DCL计数信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_workload\_sql\_elapse\_time\(\)

    描述：提供openGauss中不同负载SELECT，UPDATE，INSERT，DELETE，响应时间信息（TOTAL,AVG, MIN, MAX），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_workload\_transaction\(\)

    描述：获取openGauss内所有节点上的事务量信息，事务时间信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_stat\(\)

    描述：获取openGauss节点上的会话状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >状态信息有如下17项，commit,rollback,sql,table\_scan,blocks\_fetched,physical\_read\_operation,  
    >shared\_blocks\_dirtied,local\_blocks\_dirtied,shared\_blocks\_read,local\_blocks\_read,  
    >blocks\_read\_time,blocks\_write\_time,sort\_imemory,sort\_idisk,cu\_mem\_hit,  
    >cu\_hdd\_sync\_read,cu\_hdd\_asyread  

-   DBE\_PERF.get\_global\_session\_time\(\)

    描述：提供openGauss各节点各个关键阶段的时间消耗，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_memory\(\)

    描述：汇聚各节点的Session级别的内存使用情况，包含执行作业在数据节点上Postgres线程和Stream线程分配的所有内存，单位为MB，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_memory\_detail\(\)

    描述：汇聚各节点的线程的内存使用情况，以MemoryContext节点来统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   gs\_session\_memory\_detail\_tp

    描述：统计线程的内存使用情况，以MemoryContext节点来统计。当开启线程池（enable\_thread\_pool = on）时，该视图包含所有的线程和会话的内存使用情况。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_stat\_activity\(\)

    描述：汇聚openGauss内各节点上正在运行的线程相关的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_thread\_wait\_status\(\)

    描述：汇聚所有节点上工作线程（backend thread）以及辅助线程（auxiliary thread）的阻塞等待情况，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_wlm\_user\_resource\_runtime\(\)

    描述：显示所有用户资源使用情况，参数use\_workload\_manager为on时才有效，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_history\_table\(\)

    描述：汇聚当前用户数据库主节点上执行作业结束后的算子相关记录（持久化），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_history\(\)

    描述：汇聚当前用户数据库主节点上执行作业结束后的算子相关记录，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_runtime\(\)

    描述：汇聚当前用户数据库主节点上执行作业实时的算子相关记录，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_history\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的历史记录，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_history\_table\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的历史记录（持久化），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_runtime\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的实时信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_memory\_node\_detail\(\)

    描述：汇聚所有节点某个数据库节点内存使用情况，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_shared\_memory\_detail\(\)

    描述：汇聚所有节点已产生的共享内存上下文的使用信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_indexes

    描述：汇聚所有节点当前数据库中的每个索引行，显示特定索引的I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_local\_toastname\_and\_toastindexname\(\)

    描述：提供本地toast表的name和index和其关联表的对应关系。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_all\_indexes\(\)

    描述：统计所有节点当前数据库中的每个索引行，显示特定索引的I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_sequences\(\)

    描述：提供命名空间中所有sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_tables\(\)

    描述：汇聚各节点的数据库中每个表I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_all\_tables\(\)

    描述：统计openGauss内数据库中每个表I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_local\_toast\_relation\(\)

    描述：提供本地toast表的name和其关联表的对应关系，查询该函数必须具有sysadmin权限

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_indexes\(\)

    描述：汇聚各节点的命名空间中所有系统表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_sys\_indexes\(\)

    描述：统计各节点的命名空间中所有系统表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_sequences\(\)

    描述：提供命名空间中所有系统表为sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_tables\(\)

    描述：提供各节点的命名空间中所有系统表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_sys\_tables\(\)

    描述：openGauss内汇聚命名空间中所有系统表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_indexes\(\)

    描述：各节点的命名空间中所有用户关系表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_user\_indexes\(\)

    描述：openGauss内汇聚命名空间中所有用户关系表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_sequences\(\)

    描述：显示各节点的命名空间中所有用户的sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_tables\(\)

    描述：显示各节点的命名空间中所有用户关系表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_user\_tables\(\)

    描述：openGauss内汇聚命名空间中所有用户关系表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_stat\_db\_cu\(\)

    描述：视图查询openGauss各个节点，每个数据库的CU命中情况，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_all\_indexes\(\)

    描述：汇聚所有节点数据库中每个索引的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_all\_indexes\(\)

    描述：统计所有节点数据库中每个索引的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_sys\_tables\(\)

    描述：汇聚各节点pg\_catalog、information\_schema模式的所有命名空间中系统表的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_sys\_tables\(\)

    描述：统计各节点pg\_catalog、information\_schema模式的所有命名空间中系统表的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_sys\_indexes\(\)

    描述：汇聚各节点pg\_catalog、information\_schema模式中所有系统表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_sys\_indexes\(\)

    描述：统计各节点pg\_catalog、information\_schema模式中所有系统表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_tables\(\)

    描述：汇聚所有命名空间中用户自定义普通表的状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_user\_tables\(\)

    描述：统计所有命名空间中用户自定义普通表的状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_indexes\(\)

    描述：汇聚所有数据库中用户自定义普通表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_user\_indexes\(\)

    描述：统计所有数据库中用户自定义普通表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_database\(\)

    描述：汇聚所有节点数据库统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_database\_conflicts\(\)

    描述：统计所有节点数据库统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_all\_tables\(\)

    描述：汇聚命名空间中所有普通表和toast表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_all\_tables\(\)

    描述：统计命名空间中所有普通表和toast表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_sys\_tables\(\)

    描述：汇聚所有节点命名空间中系统表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_sys\_tables\(\)

    描述：统计所有节点命名空间中系统表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_user\_tables\(\)

    描述：汇聚所有节点命名空间中用户表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_user\_tables\(\)

    描述：统计所有节点命名空间中用户表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_functions\(\)

    描述：汇聚所有节点命名空间中用户定义函数的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_user\_functions\(\)

    描述：统计所有节点命名空间中用户定义函数的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_bad\_block\(\)

    描述：汇聚所有节点表、索引等文件的读取失败信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_file\_redo\_iostat\(\)

    描述：统计所有节点表、索引等文件的读取失败信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_file\_iostat\(\)

    描述：汇聚所有节点数据文件IO的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_locks\(\)

    描述：汇聚所有节点的锁信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_replication\_slots\(\)

    描述：汇聚所有节点上逻辑复制信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_bgwriter\_stat\(\)

    描述：汇聚所有节点后端写进程活动的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_replication\_stat\(\)

    描述：汇聚各节点日志同步状态信息，如发起端发送日志位置，收端接收日志位置等，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_transactions\_running\_xacts\(\)

    描述：汇聚各节点运行事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_transactions\_running\_xacts\(\)

    描述：统计各节点运行事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_transactions\_prepared\_xacts\(\)

    描述：汇聚各节点当前准备好进行两阶段提交的事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_transactions\_prepared\_xacts\(\)

    描述：统计各节点当前准备好进行两阶段提交的事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statement\(\)

    描述：汇聚各节点历史执行语句状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_count\(\)

    描述：汇聚各节点SELECT，UPDATE，INSERT，DELETE，响应时间信息（TOTAL,AVG, MIN, MAX），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_config\_settings\(\)

    描述：汇聚各节点GUC参数配置信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_wait\_events\(\)

    描述：汇聚各节点wait events状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_statement\_responsetime\_percentile\(\)

    描述：获取openGaussSQL响应时间P80，P95分布信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_user\_login\(\)

    描述：统计openGauss各节点用户登入登出次数信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_record\_reset\_time\(\)

    描述：汇聚openGauss统计信息重置（重启，主备倒换，数据库删除）时间，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   gs\_wlm\_user\_resource\_info\(name text\)

    描述：查询具体某个用户的资源限额和资源使用情况。

    返回值类型：record

-   get\_local\_rel\_iostat\(\)

    描述：查询当前节点的数据文件IO状态累计值。

    返回值类型：record

-   DBE\_PERF.get\_global\_rel\_iostat\(\)

    描述：汇聚所有节点数据文件IO的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record


示例：

pg\_backend\_pid函数显示当前后台服务线程ID。

```
postgres=# SELECT pg_backend_pid();
 pg_backend_pid  
-----------------
 139706243217168
(1 row)
```

pg\_stat\_get\_backend\_pid函数显示后台线程ID。

```
postgres=# SELECT pg_stat_get_backend_pid(1);
 pg_stat_get_backend_pid 
-------------------------
         139706243217168
(1 row)
```

