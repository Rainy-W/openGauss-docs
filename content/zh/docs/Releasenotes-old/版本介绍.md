# 版本介绍<a name="ZH-CN_TOPIC_0289899200"></a>

openGauss 3.1.1是openGauss 5.0.0 release版本的Preview版本，希望广大社区伙伴和开发者基于此版本进行场景化验证，提前发现问题并反馈社区，社区将在LTS版本发布前进行问题修复。当前文档说明范围仅限企业版。

3.1.1与之前的版本特性功能保持兼容，主要功能如下：

-   继承功能：
    -   基础功能：SQL标准语法、数据类型、表\(包括临时表、全局临时表、外部表\)、视图、物化视图、外键、索引\(包括btree索引、Gin索引、hash索引\)、序列、函数、触发器、聚合函数median、ROWNUM、UPSERT、、jsonb数据类型、GB18030字符集。
    -   存储过程：存储过程、存储过程内commit/rollback、参数的存储过程/函数调用省略\(\)、存储过程调试。
    -   安全功能：认证、权限管理、网络通信安全、数据库审计、全密态数据库、动态数据脱敏、国密算法、防篡改账本数据库、内置角色和权限管理、透明加密、ANY权限管理等。
    -   高可用：主备双机、级联备机、逻辑复制、极致RTO、备机扩容、基于Paxos分布式一致性协议（DCF）、两地三中心跨Region容灾。
    -   SQL引擎增强：范围分区、全局分区索引、LIST分区、HASH分区、基于范围分区的自动扩展分区、行存转向量化、自治事务、并行查询、Global Syscache、IPv6协议、postgis插件。
    -   存储引擎增强：延迟备库、备机支持逻辑复制、并行逻辑解码、灰度升级、滚动升级、Hash索引、列存表主键唯一约束、Ustore存储引擎、段页式存储、发布订阅、行存表压缩、MOT内存表、NUMA-aware高性能优化等。
    -   备份恢复：全量物理备份、逻辑备份、备机备份、增量备份和恢复、恢复到指定时间点\(PITR\)。
    -   AI能力：参数自调优、慢SQL发现、AI查询时间预测、数据库指标采集预测与异常监控、DBMind自治运维平台、智能优化器、智能索引推荐、deepSQL库内AI算法、库内AI算法支持XGBoost、multiclass和PCA。
    -   运维能力：WDR诊断报告新增数据库运行指标、备机慢SQL诊断视图、unique sql自动淘汰。
    -   JDBC：支持JDBC客户端负载均衡及读写分离。
    -   CM:支持CM集群管理，CM支持自定义资源管控，支持对外状态查询和推送能力。
    -   工具链：开发工具DataStudio、数据迁移工具chameleon。
    -   中间件：shardingSphere、openLookeng。
	-   周边生态：dblink，支持openEuler、CentOS、Ubuntu、FusionOS系统
	-   其他：cmake脚本编译、容器化部署、kubernetes
	

-   新增功能：
    -   主备共享存储
    -   MySQL兼容性增强
    -   CM部署和数据库部署解耦，CM支持增量升级
    -   MOT内存表能力增强

-   修复缺陷：
    -   I674AZ pg\_stat\_replication存在race condition并且有可能造成宕机
    -   I6736H 打开 query\_dop 后，agg 语句执行结果不一致
    -   I66TE2 加载dolphin插件场景下，重启数据库可能导致死锁
    -   I66FUD 开启enable\_memory\_limit跑并行测试，中途显示memory is temporaily unavailable，无任何额外操作下，数据库无法停库，测试无法结束。
    -   I64N8V 创建带有replace into语句的存储过程失败
    -   I648IQ 设置query\_dop=1时，执行full join 查询报错，设置为query\_dop=4时查询不报错
    -   I5MM6P AI 特性中参数调优与诊断中通过命令行配置数据库的连接时出现报错
    -   I66XL4 time类型的bit\_xor结果在x86和arm下结果不一致
    -   I66UFT MySQL兼容分区语法REORGANIZE，重组织为其它类型的分区时数据库core
    -   I667VC 部分uint类型的列插入字符串，预期合理报错，实际插入成功
    -   I64A4T 一主一备一级连环境， 执行switchover -A，没有将所有节点切换为备机
    -   I5YS5B cm 卸载时使用带cm的xml文件，卸载成功,gs_om查询状态提示cm_ctl命令不可用
    -   I66CXK 增量校验：当源端宿端数据有差异时，校验结果缺失了修复语句
