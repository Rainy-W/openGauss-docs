# 慢SQL诊断<a name="ZH-CN_CONCEPT_0252569387"></a>

慢SQL诊断分为两部分：实时慢SQL 和历史慢SQL。

-   实时慢SQL能根据用户提供的执行时间阈值，输出当前系统中正在执行的，且执行时间超过阈值的作业信息。
-   历史慢SQL能根据用户提供的执行时间阈值，记录所有超过阈值的执行完毕的作业信息。

历史慢SQL提供表和文件两种维度的查询接口，用户从接口中能查询到作业的执行计划，开始、结束执行时间，执行查询的语句，行活动，内核时间、CPU时间、执行时间、解析时间、编译时间、查询重写时间、计划生成时间、网络时间、IO时间等。所有信息都是脱敏的。

应用价值：

-   实时的慢SQL提供给用户管理尚未执行完毕的作业的接口，用户可以手动结束异常的，消耗过多资源的作业。
-   历史慢SQL提供给用户对于慢SQL诊断所需的详细信息，用户无需通过复现就能离线诊断特定慢SQL的性能问题。表和文件接口方便用户统计慢SQL指标，对接第三方平台

