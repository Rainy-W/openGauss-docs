# 版本介绍<a name="ZH-CN_TOPIC_0289899200"></a>

openGauss 3.1.0是openGauss 2022年发布的Preview版本，该版本生命周期为0.5年。当前文档说明范围仅限企业版。

3.1.0与之前的版本特性功能保持兼容，主要功能如下：

-   继承功能：
    -   SQL标准语法、UPSERT、数据类型、XML类型、表、临时表、全局临时表、外部表、视图、物化视图、索引、外键、Gin索引、序列、函数、触发器、ROWNUM、聚合函数median、jsonb数据类型、GB18030字符集、upsert支持子查询、行存转向量化等基础功能。
    -   存储过程、存储过程内commit/rollback、参数的存储过程/函数调用省略\(\)、存储过程调试、自治事务。
    -   认证、权限管理、网络通信安全、数据库审计、全密态数据库、动态数据脱敏、国密算法、防篡改账本数据库、内置角色和权限管理、透明加密、ANY权限管理等安全特性。
    -   主备双机、级联备机、逻辑复制、极致RTO、备机扩容、基于Paxos分布式一致性协议（DCF）等高可用功能。
    -   范围分区、全局分区索引、LIST分区和HASH分区、基于范围分区的自动扩展分区。
    -   全量物理备份、逻辑备份、备机备份、增量备份和恢复、恢复到指定时间点\(PITR\)。
    -   MOT内存表、NUMA-aware高性能优化、并行查询、Global Syscache。
    -   AI能力：参数自调优、慢SQL发现、AI查询时间预测、数据库指标采集预测与异常监控、DBMind组件化、deepSQL库内AI算法、库内AI算法支持XGBoost、multiclass和PCA。
    -   支持延迟备库、备机支持逻辑复制、备机xlog归档、并行逻辑解码、灰度升级、Hash索引、列存表主键唯一约束、Ustore存储引擎、段页式存储、发布订阅、行存表压缩等存储特性。
    -   WDR诊断报告新增数据库运行指标、智能索引推荐能力增强、unique sql自动淘汰。
    -   支持JDBC客户端负载均衡及读写分离，支持dblink、Ubuntu系统、cmake脚本编译、容器化部署、IPv6协议、postgis插件等。
    -   支持CM集群管理
    -   工具链：开发工具DataStudio、数据迁移工具chameleon。
    -   中间件：shardingSphere、kubernetes、openLookeng。


-   新增功能：
    -   基础算子性能提升（详见特性介绍）
    -   两地三中心跨Region容灾
    -   CM支持对外状态查询和推送能力
    -   DCF支持策略化多数派
    -   DBMind自治运维平台
    -   智能优化器
    -   细粒度Any权限增强
    -   行存表压缩能力增强
    -   发布订阅能力增强
    -   细粒度滚动升级
    -   statement\_history视图诊断能力增强
    -   中间件：集成openLookeng，提供分布式OLAP能力
    -   中间件：CM支持管理shardingSphere Proxy和注册中心
    -   工具链：MySQL全量迁移支持并行迁移，提升全量迁移性能
    -   工具链：MySQL增量迁移支持事务级并行消费，提升增量迁移性能
    -   工具链：支持基于默克尔树的数据校验
    -   工具链：支持openGauss到MySQL迁移，满足MySQL反向迁移要求
    -   兼容性：兼容MySQL包括数据类型、操作符、系统函数、DDL、DML、DCL在内的大部分常用语法

-   修复缺陷：
    -   I5LATD 设置query\_dop为4时执行含cube和windows的查询出现报错
    -   I5RWR4 2.0.4-3.1.0灰度升级成功后回滚再次升级回滚失败报错
    -   I5E52H 含长字段的列存表，经过DML和后vacuum deltamerge，可能出现“could not open relation with OID”报错
    -   I5FQHH CM集群重启后只读状态丢失
    -   I5N6E6 设置work\_mem=4MB，设置try\_vector\_engine\_strategy参数为force后，执行复杂子查询出现coredump
    -   I5LI7Y 设置query\_dop=1时，执行full join 查询报错，设置为query\_dop=4时查询不报错
    -   I5MM6P 开启并行解析后,在多事务的情况下,返回LSN错误导致重启应用后重复解析数据
    -   I53M9A type is table of在GBK环境下打印GBK字符乱码
    -   I56S1E 数据库表中字段类型为tinyint时，游标获取数据类型为str
    -   I5FIZ1 设置try\_vector\_engine\_strategy参数为force后，建表，创建增量物化视图后，查询物化视图结果有误
    -   I5E46Z assessment评估执行语句指定-p为空或端口号错误时，报错信息不正确
    -   I5EOSI 迁移工具在线迁移数据失败且迁移工具页面不停刷屏报错信息
    -   I5EDAR 迁移自定义函数，函数体有return，迁移报错
    -   I5E4CE 将max\_sync\_workers\_per\_subscription设置为0时未有无法同步基础数据的提示
    -   I5EDVY 在线向表中插入数据后，opengauss侧未同步，创建另一张表后数据迁移至opengauss侧
    -   I56B7E 使用like..excluding建表时，没有行存压缩相关参数
