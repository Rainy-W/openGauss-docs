# 特性介绍<a name="ZH-CN_TOPIC_0000001208458381"></a>

-   标准SQL支持

    支持标准的SQL92/SQL99/SQL2003/SQL2011规范，支持GBK和UTF-8字符集，支持SQL标准函数与分析函数，支持存储过程。

-   数据库存储管理功能

    支持表空间，可以把不同表规划到不同的存储位置。

-   提供主备双机

    事务支持ACID特性、单节点故障恢复、双机数据同步、双机故障切换等。

-   应用程序接口

    支持标准JDBC 4.0特性、ODBC 3.5特性。

-   管理工具

    提供安装部署工具、实例启停工具、备份恢复工具、扩容缩容工具、升级工具。

-   安全管理

    支持SSL安全网络连接、用户权限管理、密码管理、安全审计等功能，保证数据库在管理层、应用层、系统层和网络层的安全性。

-   AI智能化

    支持参数自调优、慢SQL发现、单query索引推荐、虚拟索引、workload索引推荐、数据库指标采集、预测与异常监控等功能；兼容MADlib生态，支持高性能的库内AI算法。


## 新增特性<a name="zh-cn_topic_0283136327_section383172195410"></a>

本版本是openGauss 2.1.0 Preview版本，在2.0.1版本功能的基础上，新增特性如下：

-   存储过程兼容性增强

    存储过程支持Package和自治事务，支持PL/PGSQL单步调试功能。

-   SQL引擎能力增强
    -   JDBC驱动支持getNstring接口
    -   按照资源组来划分GUC参数的初始化
    -   Group Planner重构

        exec\_type前置；pathkeys重写；query\_planner path化

    -   List/Hash分区表支持数据交换
    -   分区表执行优化

        分区表执行算子初始化获取pg\_partition部分进行缓存优化，降低单个分区表查询的时延，提升性能

    -   planhint增强

        支持planhint设置session级优化器参数；支持指定子查询不展开；支持单query禁用gpc


-   支持Ustore存储引擎

    Ustore存储引擎，又名In-place Update存储引擎（原地更新），是openGauss内核新增的一种存储模式。openGauss 内核此前的版本使用的行存储引擎是Append Update（追加更新）模式。追加更新对于业务中的增、删以及HOT\(Heap Only Tuple\) Update\(即同一页面内更新\)有很好的表现，但对于跨数据页面的非HOT UPDATE场景，垃圾回收不够高效，Ustore存储引擎可很好解决上述问题。


-   支持段页式存储

    段页式存储将数据库文件存储进行分段管理，将多个表的数据内容存储在同一个文件中，从而解决文件数量太多对磁盘和文件系统造成较大压力的问题。

-   基于Paxos分布式一致性协议的高可用

    基于Paxos分布式一致性协议的日志复制及选主框架。支持在线添加、删除节点，在线转让Leader能力，支持优先级选主和策略化多数派。支持节点角色多样性，拥有高效流控算法。

-   AI4DB和DB4AI竞争力持续构筑
    -   openGauss AI能力增强：提供单语句慢SQL根因诊断能力，增强智能索引推荐、时序预测等能力
    -   DB4AI能力：提供fenced UDF能力；提供数据库原生DB4AI库内算法能力，包括库内执行计划、库内算子及SQL语法

-   日志框架及错误码整改

    优化内核日志规范框架，重构优化现有日志。

-   JDBC客户端负载均衡及读写分离
    -   客户端多节点IP+Port配置，适应多AZ间高可用切换、适应异地容灾切换
    -   支持连接级读写分离配置
    -   支持始终连接只读节点\(非当前主活节点\)，并适应主备切换
    -   支持优先连接只读节点
    -   多个只读节点连接分布均衡
    -   支持数据库Server端对各应用连接串配置的查询,便于排查不合规连接配置

-   支持cmake脚本编译

-   列存表支持主键唯一键约束

-   支持jsonb数据类型

-   支持unique sql自动淘汰

    解决在 unique sql的数量达到最大数量后，自动淘汰，使新的unique sql信息能够被记录。

-   UCE故障感知

    感知UCE错误并打印对应的log。

-   支持GB18030字符集

-   备机catch优化

    增加guc参数catchup2normal\_wait\_time，在最大可用模式开启后，控制同步备机在数据追赶时阻塞主机的最长时间。

-   客户端工具gsql支持readline命令自动补齐

-   动态数据脱敏

    支持用户通过UDF加载的方式自定义数据脱敏规则。

-   支持国密算法

    认证支持SM3国密算法，ODBC、JDBC支持SM3认证方式，提供国密SM4算法的加解密的API接口。

-   防篡改账本数据库

    实现防篡改账本数据库，新增防篡改用户历史表和全局区块表，对指定防篡改Schema中的表进行操作审计。

-   内置角色和权限管理机制

    针对系统所支持的各种高权限操作通过内置角色的方式进行管理，在需要的时候为用户创建对应的角色功能。

-   透明加密

    透明加密，对应用层无感知，相比不加密，性能劣化不超过10%。

-   全密态数据库增强

    密态等值查询支持JDBC、存储过程和函数。

-   支持dblink

    支持dblink插件，可实现不同库之间的表进行交互。

-   支持Ubuntu系统

    支持在Ubuntu系统上通过源码编译安装或OM安装方式安装数据库，且可通过客户端驱动连接数据库。

-   支持Hash索引

    支持创建Hash索引，长索引列等值查询场景下性能优于Btree；优化锁管理提供更高的并发度；提供XLOG日志防护，保障数据不丢失。

-   upsert支持子查询

    upsert语句支持子查询。

-   min/max函数支持ip地址类型

    min/max函数支持对cidr和inet两种网络地址类型进行比较。

-   array\_remove/array\_replace/first/last函数

    增加array\_remove/array\_replace/first/last函数。

-   Data Studio工具特性

    Data Studio针对openGauss内核的多个特性提供了支持，具体如下：

    -   支持创建HASH、LIST、INTERVAL类型的分区表

    -   分区表支持通过分区字段查看分区数据

    -   支持回收用户角色

    -   支持列存表的PRIMARY KEY和UNIQUE约束


